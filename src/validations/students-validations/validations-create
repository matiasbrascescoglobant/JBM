const validationMiddleware = require("../../middlewares/validation");
const { body } = require("express-validator");
const paymentsPlans = require('../../config/payments-plans');
const isAuthorized = require('../../middlewares/authorized-admin-role');

const validationsCreate = [
    body("name").notEmpty().withMessage("The name of the student cannot be empty."),
    body("lastname").notEmpty().withMessage("The lastname of the student cannot be empty."),
    body("paymentPlan").notEmpty().withMessage("The payment plan of the student cannot be empty."),
    body("paymentPlan")
      .isNumeric()
      .isIn(paymentsPlans)
      .withMessage("The payment plan must have one of the following values " + paymentsPlans.join(", ")),
    validationMiddleware,
    isAuthorized
  ];

  module.exports = validationsCreate;